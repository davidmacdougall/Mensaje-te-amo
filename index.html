<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Te amo infinito ‚ù§Ô∏è</title>
  <meta name="description" content="Toca la pantalla para empezar‚Ä¶ y mira c√≥mo los ‚Äòte amo‚Äô caen, flotan y se multiplican.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Te amo infinito ‚ù§Ô∏è">
  <meta property="og:description" content="Toca la pantalla para empezar‚Ä¶ y mira c√≥mo los ‚Äòte amo‚Äô caen, flotan y se multiplican.">
  <meta property="og:image" content="https://davidmacdougall.github.io/Mensaje-te-amo/assets/og-te-amo.png">
  <meta property="og:url" content="https://davidmacdougall.github.io/Mensaje-te-amo/">
  <style>
    body{margin:0;overflow:hidden;height:100vh;background:#0f0f1b;font-family:sans-serif;color:#fff;}
    #stage{position:relative;width:100%;height:100%;cursor:pointer;}
    .center-start{position:absolute;inset:0;display:grid;place-content:center;text-align:center;gap:12px;background:rgba(0,0,0,.2);}
    .title{font-size:2em;font-weight:bold;}
    .bunny{position:fixed;bottom:20px;width:120px;height:auto;user-select:none;pointer-events:none;}
    #bunny-left{left:20px;transform:scaleX(-1);}
    #bunny-right{right:20px;}
    .heart{position:absolute;font-size:24px;color:hotpink;will-change:transform,opacity;pointer-events:none;}
    @keyframes shoot{
      0%{transform:translate(var(--x),var(--y)) scale(0.8);opacity:0;}
      10%{opacity:1;}
      100%{transform:translate(calc(var(--x) + var(--dx)),calc(var(--y) - 180px)) scale(1.2);opacity:0;}
    }
    .love{position:absolute;will-change:transform,opacity;font-weight:800;text-shadow:0 2px 8px rgba(0,0,0,.45);user-select:none;}
    @keyframes fallFloat{
      0%{transform:translate(var(--x,0),-60px);opacity:0;}
      15%{opacity:1;}
      65%{transform:translate(var(--x,0),var(--fy,60vh));opacity:1;}
      100%{transform:translate(var(--x,0),calc(var(--fy,60vh) - 120px));opacity:0;}
    }
    @keyframes burst{
      0%{transform:translate(var(--bx,0),var(--by,0));opacity:0;}
      10%{opacity:1;}
      100%{transform:translate(calc(var(--bx,0) + var(--dx,0px)),calc(var(--by,0) + var(--dy,0px)));opacity:0;}
    }
  </style>
</head>
<body>
  <div id="stage">
    <div id="start" class="center-start">
      <div class="title">te quiero decir algo</div>
      <div>Toca la pantalla para empezar üí´</div>
    </div>
    <img id="bunny-left" class="bunny" src="assets/bunnies.png" alt="Conejito izquierdo">
    <img id="bunny-right" class="bunny" src="assets/bunnies.png" alt="Conejito derecho">
  </div>
  <script>
    const stage=document.getElementById('stage');
    const startOverlay=document.getElementById('start');
    const W=()=>stage.clientWidth; const H=()=>stage.clientHeight;
    let started=false;
    const colors=["#ff4d6d","#ff99cc","#ff3366","#ff66b2"];
    function rand(min,max){return Math.random()*(max-min)+min;}
    function spawnRain(){
      const span=document.createElement('span');
      span.className='love';
      span.textContent='te amo';
      span.style.left=rand(0,W())+'px';
      span.style.top='0px';
      span.style.color=colors[Math.floor(Math.random()*colors.length)];
      span.style.animation=`fallFloat ${rand(3000,6000)}ms ease-in-out forwards`;
      stage.appendChild(span);
      setTimeout(()=>span.remove(),6000);
    }
    function spawnBurst(x,y){
      for(let i=0;i<20;i++){
        const span=document.createElement('span');
        span.className='love';
        span.textContent='te amo';
        span.style.left=x+'px';
        span.style.top=y+'px';
        span.style.color=colors[Math.floor(Math.random()*colors.length)];
        span.style.animation=`burst ${rand(1000,2000)}ms ease-out forwards`;
        stage.appendChild(span);
        setTimeout(()=>span.remove(),2000);
      }
    }
    function spawnHeart(fromLeft=true){
      const heart=document.createElement('div');
      heart.className='heart';
      heart.textContent='‚ù§';
      heart.style.color=colors[Math.floor(Math.random()*colors.length)];
      const startX=fromLeft?80:W()-80;
      const startY=H()-120;
      const dx=fromLeft?250:-250;
      heart.style.setProperty('--x', startX+'px');
      heart.style.setProperty('--y', startY+'px');
      heart.style.setProperty('--dx', dx+'px');
      heart.style.animation=`shoot 2500ms ease-out forwards`;
      stage.appendChild(heart);
      setTimeout(()=>heart.remove(),2500);
    }
    function startAll(){
      if(started) return; started=true;
      startOverlay.remove();
      setInterval(spawnRain,400);
      setInterval(()=>spawnHeart(true),2200);
      setInterval(()=>spawnHeart(false),2200);
    }
    stage.addEventListener('click',e=>{
      if(!started) startAll(); else spawnBurst(e.clientX,e.clientY);
    });
    stage.addEventListener('touchstart',e=>{
      if(!started) startAll();
      else spawnBurst(e.touches[0].clientX,e.touches[0].clientY);
    });
  </script>
</body>
</html>
